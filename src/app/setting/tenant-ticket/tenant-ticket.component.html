<div class="flex flex-column align-items-center">
  <div class="p-card p-4 shadow-2 mx-auto max-w-60rem" style="max-width:60rem">
    <p-toolbar styleClass="p-2 justify-content-end">
      <ng-template pTemplate="left">
        <button pButton pRipple  label="جدید" icon="pi pi-plus" class="p-button-success" routerLink="new"  ></button>
      </ng-template>
    </p-toolbar>

    <p-table #dt
             [rows]="20"
             [value]="many?many:[]"
             [paginator]="true"
             [rowHover]="true"
             dataKey="id"
             [showCurrentPageReport]="true"
             [lazy]="true"
             (onLazyLoad)="getListOfTenantTicket($event,dt)"
             [totalRecords]="totalRecords? totalRecords : 0"
             [loading]="tableLoading"
             [rowsPerPageOptions]="[10,25,50,100,200,500]"
             currentPageReportTemplate=" از {first}  تا {last} از مجموع {totalRecords} نتیجه"
             responsiveLayout="scroll"
             styleClass="p-datatable-responsive-demo p-datatable-sm overflow-x-hidden"
             paginatorStyleClass="hidden"
             class="overflow-x-hidden"
             stateStorage="local"
             stateKey="tenantTicketTable">

      <ng-template pTemplate="header">


        <!--      <tr>-->
        <!--        &lt;!&ndash; pSortableColumn="title" &ndash;&gt;-->
        <!--        <th>-->
        <!--          &lt;!&ndash; <p-columnFilter matchMode="contains" type="text" field="title" display="menu"></p-columnFilter> &ndash;&gt;-->
        <!--          عنوان-->
        <!--          <p-sortIcon field="title"></p-sortIcon>-->
        <!--        </th>-->

        <!--        <th>-->
        <!--          &lt;!&ndash; <p-columnFilter matchMode="contains" type="text" field="title" display="menu"></p-columnFilter> &ndash;&gt;-->
        <!--          تاریخ ایجاد-->
        <!--          <p-sortIcon field="createDateTime"></p-sortIcon>-->
        <!--        </th>-->

        <!--        <th></th>-->
        <!--      </tr>-->

      </ng-template>


      <ng-template pTemplate="body" let-object>
        <!--      <tr>-->

        <!--        <td>-->
        <!--          <span class="p-column-title">عنوان</span>-->
        <!--          {{object.title}}-->
        <!--        </td>-->

        <!--        <td>-->
        <!--          <span class="p-column-title">تاریخ ایجاد</span>-->
        <!--          {{object.createDateTime | jalaliDate}}-->
        <!--        </td>-->


        <!--        <td>-->
        <!--          <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning p-mr-2 m-1"-->
        <!--                  pTooltip="ویرایش"-->
        <!--                  [routerLink]="['conversation', object.id]" ></button>-->
        <!--        </td>-->
        <!--      </tr>-->
      </ng-template>

    </p-table>


    <div class="grid mt-1">
<!--      <div class="col-12" routerLink="new" pTooltip="تیکت جدید" tooltipPosition="top">-->
<!--        <div class="h-full relative flex justify-content-center align-items-center p-2 shadow-1 hover:shadow-2 cursor-pointer border-round-2xl border-1 border-solid border-dashed border-green-500 text-green-500 hover:bg-green-100">-->
<!--          <i class="pi pi-plus " style="font-size:40px; opacity: 0.3;"></i>-->
<!--        </div>-->
<!--      </div>-->

      <div class="col-12" *ngFor="let object of many; let i = index" (click)="openDetails(object.id)">

        <div class="h-full p-2 pb-0 border-1 border-round surface-border shadow-none hover:bg-gray-100 bg-white cursor-pointer">
          <div class="grid">
            <div class="col-1 text-center">
              <span>{{ i+1 }}</span>
            </div>

            <div class="col-7 text-center">
              <span>{{ object.title }}</span>
            </div>

            <div class="col-2 text-center">
              <span [class]="object.state === stateEnumValue.New ? 'bg-green-100 text-green-500 py-1 px-2 text-sm border-round' : object.state === stateEnumValue.Current ? 'bg-orange-100 text-orange-500 py-1 px-2 text-sm border-round' : 'bg-red-100 text-red-500 py-1 px-2 text-sm border-round' ">
              {{ stateEnum[object.state].title }}
            </span>
            </div>

            <div class="col-2 text-center">
              <span pTooltip="تاریخ ثبت تیکت" tooltipPosition="top">
              <i class="pi pi-calendar text-green-500"></i>
                {{ object.createDateTime | jalaliDate:'date' }}
            </span>
            </div>

          </div>

          <!-- Top Section -->
<!--          <div class="py-2 text-center flex justify-content-between">-->
<!--            <span>{{ i+1 }}</span>-->
<!--            <span>{{ object.title }}</span>-->
<!--            <span [class]="object.state === stateEnumValue.New ? 'bg-green-100 text-green-500 py-1 px-2 text-sm border-round' : object.state === stateEnumValue.Current ? 'bg-orange-100 text-orange-500 py-1 px-2 text-sm border-round' : 'bg-red-100 text-red-500 py-1 px-2 text-sm border-round' ">-->
<!--              {{ stateEnum[object.state].title }}-->
<!--            </span>-->
<!--            <span pTooltip="تاریخ ثبت تیکت" tooltipPosition="top">-->
<!--              <i class="pi pi-calendar text-green-500"></i>-->
<!--              {{ object.createDateTime | jalaliDate:'date' }}-->
<!--            </span>-->
<!--          </div>-->

        </div>
      </div>
      <div class="col-12">
        <p-paginator
          [style]="{background:'#f7f7f7'}"
          (onPageChange)="onPageChange($event)"
          [first]="lastEvent.first"
          [rows]="lastEvent.rows"
          [totalRecords]="totalRecords"
          [rowsPerPageOptions]="[20, 40, 60, 80, 100]" />
      </div>

    </div>


  </div>
</div>

