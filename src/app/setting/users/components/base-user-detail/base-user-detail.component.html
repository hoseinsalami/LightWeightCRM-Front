<div class="p-card p-4 shadow-2 mx-auto" style="width:800px;">

  <div class="grid">
    <div class="col-12 bg-bluegray-50 border-round mb-3">
      <div class="flex justify-content-between align-items-center">
        <h6 class="font-bold text-green-500 m-0">{{ isId ? 'ویرایش کاربر' : 'کاربر جدید' }}</h6>
      </div>
    </div>

  </div>

  <div class="grid">
    <div class="col-12 md:col-6">
      <div class="form-group">
        <label class="text-sm">نام و نام خانوادگی </label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <input
            pInputText
            type="text"
            id="fullName"
            name="fullName"
            class="p-fieldset w-full"
            placeholder="نام و نام خانودگی کاربر وارد نمایید"
            [(ngModel)]="manager.oneObject.fullName">
        </div>
      </div>
    </div>

    <div class="col-12 md:col-6">
      <div class="form-group">
        <label class="text-sm">شماره موبایل</label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <input
            pInputText
            type="text"
            id="mobile"
            name="mobile"
            class="p-fieldset w-full"
            #mobile="ngModel"
            minlength="11"
            maxlength="11"
            pattern="^09\d{9}$"
            inputmode="numeric"
            autocomplete="off"
            required
            placeholder="شماره موبایل کاربر وارد نمایید"
            [(ngModel)]="manager.oneObject.mobile">

          <div *ngIf="(mobile.invalid && (mobile.dirty || mobile.touched))" class="text-red-500 text-sm mt-1">
            <div *ngIf="mobile.errors?.['required']">شماره موبایل الزامی است.</div>
            <div *ngIf="mobile.errors?.['minlength'] || mobile.errors?.['maxlength']">شماره موبایل باید دقیقاً ۱۱ رقم باشد.</div>
            <div *ngIf="mobile.errors?.['pattern'] && manager.oneObject.mobile?.length === 11">
              شماره موبایل معتبر نیست.
            </div>
            <div *ngIf="manager.oneObject.mobile && !manager.oneObject.mobile.startsWith('09')">
              شماره موبایل باید با 09 شروع شود.
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="col-12 md:col-6" *ngIf="!isId">
      <div class="form-group">
        <label class="text-sm">نام کاربری</label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <input
            pInputText
            type="text"
            id="userName"
            name="userName"
            class="p-fieldset w-full"
            placeholder="نام کاربری وارد نمایید"
            [(ngModel)]="manager.oneObject.userName">
        </div>
      </div>
    </div>

    <div class="col-12 md:col-6">
      <div class="form-group">
        <label class="text-sm">نوع کاربر</label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <p-multiSelect [style]="{'width':'100%'}"
                         name="userType"
                         class="w-full"
                         placeholder ="کارشناس را انتخاب نمایید"
                         scrollHeight="250px"
                         display="chip"
                         optionLabel="title"
                         optionValue="value"
                         [(ngModel)]="manager.oneObject.userType"
                         [options]="userType">
          </p-multiSelect>
        </div>
      </div>
    </div>

    <div class="col-12 md:col-6" *ngIf="!isId">
      <div class="form-group">
        <label class="text-sm">رمز عبور</label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <p-password class="w-full" inputStyleClass="w-full" [style]="{'width':'100%'}"
                      [(ngModel)]="manager.oneObject.password" [autocomplete]="'off'" [feedback]="false"/>
        </div>
      </div>
    </div>

    <div class="col-12 md:col-6" *ngIf="!isId">
      <div class="form-group">
        <label class="text-sm">تکرار رمز عبور</label>
        <span class="text-red-500 font-bold text- mr-1">*</span>
        <div class="field">
          <p-password class="w-full" inputStyleClass="w-full" [style]="{'width':'100%'}"
                      [(ngModel)]="confirmPassword" [autocomplete]="'off'" [feedback]="false"/>
        </div>
      </div>
    </div>

    <div class="col-12 md:col-6 flex align-items-center">
      <div class="">
        <p-toggleButton
          [(ngModel)]="manager.oneObject.active"
          onLabel="فعال"
          offLabel="غیرفعال"
          onIcon="pi pi-check"
          offIcon="pi pi-times"
          [style]="{ width: '10em' }">
        </p-toggleButton>
      </div>
    </div>

    <div class="col-12">
      <div class="mt-5 text-left">
        <button
          [disabled]="manager.isSending"
          class="mx-3 p-button-success"
          pButton
          label="ذخیره "
          (click)="manager.save()"
          icon="pi pi-save mx-2"></button>

        <button pButton
                label="انصراف"
                class="p-button-danger"
                icon="pi pi-sign-out mx-2"
                (click)="manager.cancel()"></button>
      </div>
    </div>

  </div>
</div>

