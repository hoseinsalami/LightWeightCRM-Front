<div class="grid">
  <div class="col-12">

    <div class="p-card p-4 shadow-2">
      <div class="mb-5 mr-3">
        <button class="mx-3 p-button-success"
                pButton
                label="ذخیره "
                icon="pi pi-save mx-2"
                (click)="updateTicketConfig()">
        </button>
        <button pButton
                label="انصراف"
                class="p-button-danger"
                icon="pi pi-sign-out mx-2"
                (click)="backLocation()">
        </button>
      </div>

      <div class="grid">
        <div class="col-12 md:col-6" *ngFor="let config of config">
          <p-fieldset [style]="{'margin-top': '10px'}">
            <ng-template pTemplate="header">
              <div class="flex align-items-center gap-2 px-2">
                <span class="font-bold">{{config.title}}</span>
              </div>
            </ng-template>

            <div class="flex flex-wrap gap-3">
              <div class="flex-1">
                <label class="text-right font-bold text-900 text-md">راهبر</label>
                <div class="field mt-2">
                  <p-dropdown
                    [styleClass]="'clear-icon'"
                    [showClear]="true"
                    [options]="adminUsers"
                    [(ngModel)]="config.adminId"
                    class="mt-2"
                    [style]="{'width':'100%'}"
                    optionLabel="fullName"
                    optionValue="id"
                    placeholder="راهبر خود را انتخاب کنید">
                  </p-dropdown>
                </div>
              </div>

              <div class="flex-1">
                <label class="text-right font-bold text-900 text-md">کارشناس</label>
                <div class="field mt-2">
                  <p-multiSelect [style]="{'width':'100%'}"
                                 name="userType"
                                 class="w-full"
                                 placeholder ="کارشناسان خود را انتخاب نمایید"
                                 scrollHeight="250px"
                                 display="chip"
                                 optionLabel="fullName"
                                 optionValue="id"
                                 [(ngModel)]="config.expertIds"
                                 [options]="expertUsers">
                  </p-multiSelect>
                </div>
              </div>
            </div>

            <div class="flex flex-wrap gap-3">
              <div class="flex-1">
                <label class="text-right font-bold text-900 text-md">حداکثر زمان مجاز پاسخ دهی</label>
                <div class="field mt-2">
                  <input
                    pInputText
                    type="text"
                    id="reminder"
                    name="reminder"
                    class="p-fieldset"
                    placeholder="مدت زمان"
                    [style]="{'width':'100%'}"
                    [(ngModel)]="config.deadlineValue"
                    [pKeyFilter]="'int'">
                </div>

              </div>

              <div class="flex-1">
                <label class="text-right font-bold text-900 text-md">واحد زمانی</label>
                <div class="field mt-2">
                  <p-dropdown
                  [styleClass]="'clear-icon'"
                  [showClear]="true"
                  [options]="TimeUnits"
                  [(ngModel)]="config.periodTimeUnit"
                  optionLabel="title"
                  optionValue="value"
                  class="mt-2"
                  [style]="{'width':'100%'}"
                  [required]="true"
                  placeholder="براساس دقیقه | ساعت | روز">
                </p-dropdown>
                </div>
              </div>

            </div>

          </p-fieldset>
        </div>

      </div>


    </div>

  </div>
</div>
