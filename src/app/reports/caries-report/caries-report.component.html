<div class="grid">
<!--  <div class="col-12">-->

<!--    <p-panel [toggleable]="true">-->

<!--      <div class="grid">-->

<!--        <div class="col-12">-->
<!--          <div class="form-group">-->
<!--            <p-divider styleClass="px-5 py-2" class="w-full divider m-0" align="center" type="dashed">-->
<!--              <b class="px-2 text-lg ">شرط های گزارش</b>-->
<!--            </p-divider>-->
<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; path &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group">-->
<!--            <label class="text-right font-bold text-md mb-2">کاریز</label>-->
<!--            <div class="field">-->
<!--              <p-treeSelect-->
<!--                class="w-full"-->
<!--                containerStyleClass="w-full"-->
<!--                [style]="{'width':'100%'}"-->
<!--                [(ngModel)]="selectedNodes"-->
<!--                (onNodeSelect)="selectCategory($event)"-->
<!--                (onNodeUnselect)="onNodeUnselect($event)"-->
<!--                [options]="listOfPath"-->
<!--                display="chip"-->
<!--                [metaKeySelection]="false"-->
<!--                selectionMode="checkbox"-->
<!--                placeholder="کاریز را انتخاب نمایید"-->
<!--              >-->
<!--                &lt;!&ndash;                <ng-template pTemplate="selectedItem">&ndash;&gt;-->
<!--&lt;!&ndash;                  {{ oneObject.filters.stepIds.length }} قلم&ndash;&gt;-->
<!--&lt;!&ndash;                </ng-template>&ndash;&gt;-->
<!--              </p-treeSelect>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; expert &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group field">-->
<!--            <label class="text-right font-bold text-md m-0" for="">کارشناس</label>-->
<!--            <div class="field">-->
<!--              <p-multiSelect [style]="{'width':'100%'}"-->
<!--                             name="userType"-->
<!--                             class="w-full"-->
<!--                             placeholder ="کارشناس را انتخاب نمایید"-->
<!--                             scrollHeight="250px"-->
<!--                             display="chip"-->
<!--                             optionLabel="fullName"-->
<!--                             optionValue="id"-->
<!--                             [(ngModel)]="oneObject.filters.currentUserIds"-->
<!--                             [options]="expertUsers">-->
<!--              </p-multiSelect>-->
<!--            </div>-->

<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; customers &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group field">-->
<!--            <label class="text-right font-bold text-md m-0" for="">مشتری</label>-->
<!--            <div class="field">-->

<!--              <p-autoComplete-->
<!--                inputStyleClass="w-full"-->
<!--                appendTo="body"-->
<!--                [multiple]="true"-->
<!--                name="selectedCustomers"-->
<!--                [(ngModel)]="selectedCustomers"-->
<!--                [showEmptyMessage]="true"-->
<!--                [suggestions]="filteredCustomer"-->
<!--                (completeMethod)="searchCustomerReport($event)"-->
<!--                #customerSenderIds-->
<!--                [minLength]="1"-->
<!--                [style]="{width: '100%', display:'block'}"-->
<!--                [autoHighlight]="true"-->
<!--                [inputStyle]="{width: '100%'}"-->
<!--                field="id"-->
<!--                placeholder="نام خانوادگی / نام شرکت"-->
<!--                id="customerSenderIds"-->
<!--                inputId="customerSenderIds"-->
<!--                class="w-full text-center"-->
<!--                styleClass="w-full"-->
<!--                emptyMessage="موردی یافت نشد"-->
<!--                (onFocus)="customerSenderIds.show()">-->

<!--                <ng-template let-customer pTemplate="item">-->
<!--                  <div (mousedown)="$event.preventDefault(); $event.stopPropagation()"-->
<!--                       class="w-full flex flex-wrap flex-row-reverse justify-content-between items-center px-2 py-1"-->
<!--                       style="cursor: default;">-->
<!--                    <p-checkbox-->
<!--                      [binary]="true"-->
<!--                      [ngModel]="isSelected(customer)"-->
<!--                      [ngModelOptions]="{standalone: true}"-->
<!--                      (onChange)="toggleCustomer(customer)"-->
<!--                      class="z-5">-->
<!--                    </p-checkbox>-->
<!--                    <div>{{customer.name}}</div>-->
<!--                    <div>{{customer.family}}</div>-->
<!--                    <div>{{customer.companyName}}</div>-->
<!--                  </div>-->
<!--                </ng-template>-->

<!--                <ng-template let-value pTemplate="selectedItem">-->
<!--                  <div class="w-full flex flex-wrap flex-row-reverse justify-content-between">-->
<!--                    <div>{{value.name}}</div>-->
<!--                    <div>{{value.family}}</div>-->
<!--                    <div>{{value.companyName}}</div>-->
<!--                  </div>-->
<!--                </ng-template>-->

<!--              </p-autoComplete>-->

<!--            </div>-->
<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; userType &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group field">-->
<!--            <label class="text-right font-bold text-md m-0" for="">راهبر</label>-->
<!--            <div class="field">-->
<!--              <p-multiSelect [style]="{'width':'100%'}"-->
<!--                             name="userType"-->
<!--                             class="w-full"-->
<!--                             placeholder ="راهبر را انتخاب نمایید"-->
<!--                             scrollHeight="250px"-->
<!--                             display="chip"-->
<!--                             optionLabel="fullName"-->
<!--                             optionValue="id"-->
<!--                             [(ngModel)]="oneObject.filters.adminIds"-->
<!--                             [options]="adminUsers">-->
<!--              </p-multiSelect>-->
<!--            </div>-->

<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; status &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group field">-->
<!--            <label class="text-right font-bold text-md m-0" for="">وضعیت</label>-->
<!--            <div class="field">-->
<!--              <p-multiSelect [style]="{'width':'100%'}"-->
<!--                             name="userType"-->
<!--                             class="w-full"-->
<!--                             placeholder ="وضعیت را انتخاب نمایید"-->
<!--                             scrollHeight="250px"-->
<!--                             display="chip"-->
<!--                             optionLabel="title"-->
<!--                             optionValue="value"-->
<!--                             [(ngModel)]="oneObject.filters.statuses"-->
<!--                             [options]="status">-->
<!--              </p-multiSelect>-->
<!--            </div>-->

<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; reasonFailure &ndash;&gt;-->
<!--        <div class="col-12 md:col-2">-->
<!--          <div class="form-group field">-->
<!--            <label class="text-right font-bold text-md m-0" for="">دلیل شکست</label>-->
<!--            <div class="field">-->
<!--              <p-multiSelect [style]="{'width':'100%'}"-->
<!--                             name="userType"-->
<!--                             class="w-full"-->
<!--                             placeholder ="دلیل شکست را انتخاب نمایید"-->
<!--                             scrollHeight="250px"-->
<!--                             display="chip"-->
<!--                             optionLabel="title"-->
<!--                             optionValue="id"-->
<!--                             [(ngModel)]="oneObject.filters.failureReasonIds"-->
<!--                             [options]="listOfFailureReasons">-->
<!--              </p-multiSelect>-->
<!--            </div>-->

<!--          </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; startDate &ndash;&gt;-->
<!--        <div class="col-12 md:col-4">-->
<!--          <p-fieldset>-->
<!--            <ng-template pTemplate="header">-->
<!--              <p>ایجاد قلم کاری</p>-->
<!--            </ng-template>-->

<!--            <div class="flex gap-4">-->
<!--              <div class="datePickerContainer relative z-5">-->
<!--                <label class="text-right font-bold text-md mb-2">از تاریخ</label>-->
<!--                <ng-persian-datepicker-->
<!--                  (dateOnSelect)="selectCreatedFromDatePicker($event)"-->
<!--                  (dateOnInit)="initialCreatedFromDatePicker($event)"-->
<!--                  [dateGregorianFormat]="'YYYY-MM-DD '"-->
<!--                  [dateFormat]="'YYYY-MM-DD '">-->
<!--                  <input [formControl]="createdFromControl" id="createdFrom" name="startDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>-->
<!--                </ng-persian-datepicker>-->
<!--              </div>-->
<!--              <div class="datePickerContainer relative z-5">-->
<!--                <label class="text-right font-bold text-md mb-2">تا تاریخ</label>-->
<!--                <div class="flex gap-2">-->
<!--                  <ng-persian-datepicker-->
<!--                    class="w-full"-->
<!--                    (dateOnInit)="initialCreatedToDatePicker($event)"-->
<!--                    (dateOnSelect)="selectCreatedToDatePicker($event)"-->
<!--                    [dateGregorianFormat]="'YYYY-MM-DD' "-->
<!--                    [dateFormat]="'YYYY-MM-DD '">-->
<!--                    <input [formControl]="createdToControl" id="createdTo" name="finishDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>-->
<!--                  </ng-persian-datepicker>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->

<!--          </p-fieldset>-->
<!--        </div>-->

<!--        &lt;!&ndash; finishDate &ndash;&gt;-->
<!--        <div class="col-12 md:col-4">-->
<!--          <p-fieldset>-->
<!--            <ng-template pTemplate="header">-->
<!--              <p>پایان قلم کاری</p>-->
<!--            </ng-template>-->

<!--            <div class="flex gap-4">-->
<!--              <div class="datePickerContainer relative z-5">-->
<!--                <label class="text-right font-bold text-md mb-2">از تاریخ</label>-->
<!--                <ng-persian-datepicker-->
<!--                  (dateOnSelect)="selectFinishedFromDatePicker($event)"-->
<!--                  (dateOnInit)="initialFinishedFromDatePicker($event)"-->
<!--                  [dateGregorianFormat]="'YYYY-MM-DD '"-->
<!--                  [dateFormat]="'YYYY-MM-DD '">-->
<!--                  <input [formControl]="finishedFromControl" id="finishedFrom" name="startDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>-->
<!--                </ng-persian-datepicker>-->
<!--              </div>-->
<!--              <div class="datePickerContainer relative z-5">-->
<!--                <label class="text-right font-bold text-md mb-2">تا تاریخ</label>-->
<!--                <div class="flex gap-2">-->
<!--                  <ng-persian-datepicker-->
<!--                    class="w-full"-->
<!--                    (dateOnInit)="initialFinishedToDatePicker($event)"-->
<!--                    (dateOnSelect)="selectFinishedToDatePicker($event)"-->
<!--                    [dateGregorianFormat]="'YYYY-MM-DD' "-->
<!--                    [dateFormat]="'YYYY-MM-DD '">-->
<!--                    <input [formControl]="finishedToControl" id="finishedTo" name="finishDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>-->
<!--                  </ng-persian-datepicker>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->

<!--          </p-fieldset>-->
<!--        </div>-->

<!--        <div class="col-12">-->
<!--          <div class="grid">-->

<!--            <div class="col-6 pl-5">-->
<!--              <div class="form-group">-->
<!--                <p-divider styleClass="px-5 py-2" class="w-full divider" align="center" type="dashed">-->
<!--                  <b class="px-2 text-lg ">مبنای گزارش</b>-->
<!--                </p-divider>-->
<!--              </div>-->

<!--              <div class="flex gap-4">-->
<!--                <div class="datePickerContainer relative">-->
<!--                  <label class="text-right font-bold text-md mb-2">مبنای اصلی</label>-->
<!--                  <div>-->
<!--                    <p-dropdown-->
<!--                      [styleClass]="'clear-icon'"-->
<!--                      [showClear]="true"-->
<!--                      [options]="dimension"-->
<!--                      [(ngModel)]="oneObject.primaryGroup"-->
<!--                      (onChange)="onPrimaryChange()"-->
<!--                      class="mt-2"-->
<!--                      [style]="{'width':'250px'}"-->
<!--                      optionLabel="title"-->
<!--                      optionValue="value"-->
<!--                      placeholder="مبنای اصلی انتخاب کنید">-->
<!--                    </p-dropdown>-->
<!--                  </div>-->
<!--                </div>-->

<!--                <div class="datePickerContainer relative">-->
<!--                  <label class="text-right font-bold text-md mb-2">مبنای فرعی</label>-->
<!--                  <div>-->
<!--                    <p-dropdown-->
<!--                      [styleClass]="'clear-icon'"-->
<!--                      [showClear]="true"-->
<!--                      [options]="secondaryOptions"-->
<!--                      [(ngModel)]="oneObject.secondaryGroup"-->
<!--                      [disabled]="oneObject.primaryGroup === null || oneObject.primaryGroup === undefined"-->
<!--                      class="mt-2"-->
<!--                      [style]="{'width':'100%'}"-->
<!--                      optionLabel="title"-->
<!--                      optionValue="value"-->
<!--                      placeholder="مبنای فرعی انتخاب کنید">-->
<!--                    </p-dropdown>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->

<!--            </div>-->

<!--            <div class="col-6 pr-5">-->
<!--              <div class="form-group">-->
<!--                <p-divider styleClass="px-5 py-2" class="w-full divider" align="center" type="dashed">-->
<!--                  <b class="px-2 text-lg ">مبنای خروجی</b>-->
<!--                </p-divider>-->
<!--              </div>-->

<!--              <div class="flex gap-4">-->
<!--                <div class="datePickerContainer relative">-->
<!--                  <label class="text-right font-bold text-md mb-2">خروجی گزارش</label>-->
<!--                  <div>-->
<!--                    <p-dropdown-->
<!--                      [styleClass]="'clear-icon'"-->
<!--                      [showClear]="true"-->
<!--                      [options]="metric"-->
<!--                      [(ngModel)]="oneObject.metric"-->
<!--                      class="mt-2"-->
<!--                      [style]="{'width':'250px'}"-->
<!--                      optionLabel="title"-->
<!--                      optionValue="value"-->
<!--                      placeholder="خروجی گزارش انتخاب کنید">-->
<!--                    </p-dropdown>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->

<!--            </div>-->

<!--          </div>-->

<!--        </div>-->


<!--      </div>-->

<!--      <ng-template pTemplate="footer">-->
<!--        <div class="flex">-->
<!--          <button-->
<!--            pButton-->
<!--            pRipple-->
<!--            label="مشاهده"-->
<!--            class="p-button-info p-mr-2"-->
<!--            (click)="onRegisterReportCaries()"-->
<!--          ></button>-->

<!--        </div>-->
<!--      </ng-template>-->
<!--    </p-panel>-->

<!--  </div>-->


  <div class="col-12 flex flex-row overflow-hidden">

    <div class="side-menu bg-white shadow-2 border-round" [class.closed]="!menuOpen">
      <div class="menu-header ">
        <div class="flex">
          <button
            pButton
            pRipple
            label="مشاهده"
            class="p-button-info p-mr-2"
            (click)="onRegisterReportCaries()"
          ></button>
        </div>
        <span class="close-btn" (click)="toggleMenu()">✕</span>
      </div>
      <p-accordion [style]="{'margin-top':'10px'}" class="mt-3">
        <p-accordionTab>
          <ng-template  pTemplate="header">
                <span  class="flex align-items-center gap-2 w-full">
                  شرط های گزارش
                </span>
          </ng-template>
          <div class="grid">
            <!-- path -->
            <div class="col-12 md:col-12">
              <div class="form-group">
                <label class="text-right font-bold text-md mb-2">کاریز</label>
                <div class="field">
                  <p-treeSelect
                    class="w-full"
                    containerStyleClass="w-full"
                    [style]="{'width':'100%'}"
                    [(ngModel)]="selectedNodes"
                    (onNodeSelect)="selectCategory($event)"
                    (onNodeUnselect)="onNodeUnselect($event)"
                    [options]="listOfPath"
                    display="chip"
                    [metaKeySelection]="false"
                    selectionMode="checkbox"
                    placeholder="کاریز را انتخاب نمایید">
                    <ng-template let-customer pTemplate="value">
                      @if (oneObject.filters.stepIds?.length > 0) {
                      {{ oneObject.filters.stepIds.length }} قلم
                      } @else {
                      کاریز را انتخاب نمایید
                      }
                    </ng-template>
                  </p-treeSelect>
                </div>
              </div>
            </div>

            <!-- expert -->
            <div class="col-12 md:col-12">
              <div class="form-group field">
                <label class="text-right font-bold text-md m-0" for="">کارشناس</label>
                <div class="field">
                  <p-multiSelect [style]="{'width':'100%'}"
                                 name="userType"
                                 class="w-full"
                                 placeholder ="کارشناس را انتخاب نمایید"
                                 scrollHeight="250px"
                                 display="chip"
                                 optionLabel="fullName"
                                 optionValue="id"
                                 [(ngModel)]="oneObject.filters.currentUserIds"
                                 [options]="expertUsers">
                  </p-multiSelect>
                </div>

              </div>
            </div>

            <!-- customers -->
            <div class="col-12 md:col-12">
              <div class="form-group field">
                <label class="text-right font-bold text-md m-0" for="">مشتری</label>
                <div class="field">

                  <p-autoComplete
                    inputStyleClass="w-full"
                    appendTo="body"
                    [multiple]="true"
                    name="selectedCustomers"
                    [(ngModel)]="selectedCustomers"
                    [showEmptyMessage]="true"
                    [suggestions]="filteredCustomer"
                    (completeMethod)="searchCustomerReport($event)"
                    #customerSenderIds
                    [minLength]="1"
                    [style]="{width: '100%', display:'block'}"
                    [autoHighlight]="true"
                    [inputStyle]="{width: '100%'}"
                    field="id"
                    placeholder="نام خانوادگی / نام شرکت"
                    id="customerSenderIds"
                    inputId="customerSenderIds"
                    class="w-full text-center"
                    styleClass="w-full"
                    emptyMessage="موردی یافت نشد"
                    (onFocus)="customerSenderIds.show()">

                    <ng-template let-customer pTemplate="item">
                      <div (mousedown)="$event.preventDefault(); $event.stopPropagation()"
                           class="w-full flex flex-wrap flex-row-reverse justify-content-between items-center px-2 py-1"
                           style="cursor: default;">
                        <p-checkbox
                          [binary]="true"
                          [ngModel]="isSelected(customer)"
                          [ngModelOptions]="{standalone: true}"
                          (onChange)="toggleCustomer(customer)"
                          class="z-5">
                        </p-checkbox>
                        <div>{{customer.name}}</div>
                        <div>{{customer.family}}</div>
                        <div>{{customer.companyName}}</div>
                      </div>
                    </ng-template>

                    <ng-template let-value pTemplate="selectedItem">
                      <div class="w-full flex flex-wrap flex-row-reverse justify-content-between">
                        <div>{{value.name}}</div>
                        <div>{{value.family}}</div>
                        <div>{{value.companyName}}</div>
                      </div>
                    </ng-template>

                  </p-autoComplete>

                </div>
              </div>
            </div>

            <!-- userType -->
            <div class="col-12 md:col-12">
              <div class="form-group field">
                <label class="text-right font-bold text-md m-0" for="">راهبر</label>
                <div class="field">
                  <p-multiSelect [style]="{'width':'100%'}"
                                 name="userType"
                                 class="w-full"
                                 placeholder ="راهبر را انتخاب نمایید"
                                 scrollHeight="250px"
                                 display="chip"
                                 optionLabel="fullName"
                                 optionValue="id"
                                 [(ngModel)]="oneObject.filters.adminIds"
                                 [options]="adminUsers">
                  </p-multiSelect>
                </div>

              </div>
            </div>

            <!-- status -->
            <div class="col-12 md:col-12">
              <div class="form-group field">
                <label class="text-right font-bold text-md m-0" for="">وضعیت</label>
                <div class="field">
                  <p-multiSelect [style]="{'width':'100%'}"
                                 name="userType"
                                 class="w-full"
                                 placeholder ="وضعیت را انتخاب نمایید"
                                 scrollHeight="250px"
                                 display="chip"
                                 optionLabel="title"
                                 optionValue="value"
                                 [(ngModel)]="oneObject.filters.statuses"
                                 [options]="status">
                  </p-multiSelect>
                </div>

              </div>
            </div>

            <!-- reasonFailure -->
            <div class="col-12 md:col-12">
              <div class="form-group field">
                <label class="text-right font-bold text-md m-0" for="">دلیل شکست</label>
                <div class="field">
                  <p-multiSelect [style]="{'width':'100%'}"
                                 name="userType"
                                 class="w-full"
                                 placeholder ="دلیل شکست را انتخاب نمایید"
                                 scrollHeight="250px"
                                 display="chip"
                                 optionLabel="title"
                                 optionValue="id"
                                 [(ngModel)]="oneObject.filters.failureReasonIds"
                                 [options]="listOfFailureReasons">
                  </p-multiSelect>
                </div>

              </div>
            </div>

            <!-- startDate -->
            <div class="col-12 md:col-12">
              <p-fieldset [style]="{padding:'0px'}">
                <ng-template pTemplate="header">
                  <p>ایجاد قلم کاری</p>
                </ng-template>

                <div class="flex flex-column gap-4">
                  <div class="datePickerContainer relative z-5">
                    <label class="text-right font-bold text-md mb-2">از تاریخ</label>
                    <ng-persian-datepicker
                      (dateOnSelect)="selectCreatedFromDatePicker($event)"
                      (dateOnInit)="initialCreatedFromDatePicker($event)"
                      [dateGregorianFormat]="'YYYY-MM-DD '"
                      [dateFormat]="'YYYY-MM-DD '">
                      <input [formControl]="createdFromControl" id="createdFrom" name="startDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>
                    </ng-persian-datepicker>
                  </div>
                  <div class="datePickerContainer relative z-4">
                    <label class="text-right font-bold text-md mb-2">تا تاریخ</label>
                    <div class="flex gap-2">
                      <ng-persian-datepicker
                        class="w-full"
                        (dateOnInit)="initialCreatedToDatePicker($event)"
                        (dateOnSelect)="selectCreatedToDatePicker($event)"
                        [dateGregorianFormat]="'YYYY-MM-DD' "
                        [dateFormat]="'YYYY-MM-DD '">
                        <input [formControl]="createdToControl" id="createdTo" name="finishDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>
                      </ng-persian-datepicker>
                    </div>
                  </div>
                </div>

              </p-fieldset>
            </div>

            <!-- finishDate -->
            <div class="col-12 md:col-12">
              <p-fieldset [style]="{padding:'0px'}">
                <ng-template pTemplate="header">
                  <p>پایان قلم کاری</p>
                </ng-template>

                <div class="flex flex-column gap-4">
                  <div class="datePickerContainer relative z-3">
                    <label class="text-right font-bold text-md mb-2">از تاریخ</label>
                    <ng-persian-datepicker
                      (dateOnSelect)="selectFinishedFromDatePicker($event)"
                      (dateOnInit)="initialFinishedFromDatePicker($event)"
                      [dateGregorianFormat]="'YYYY-MM-DD '"
                      [dateFormat]="'YYYY-MM-DD '">
                      <input [formControl]="finishedFromControl" id="finishedFrom" name="startDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>
                    </ng-persian-datepicker>
                  </div>
                  <div class="datePickerContainer relative z-2">
                    <label class="text-right font-bold text-md mb-2">تا تاریخ</label>
                    <div class="flex gap-2">
                      <ng-persian-datepicker
                        class="w-full"
                        (dateOnInit)="initialFinishedToDatePicker($event)"
                        (dateOnSelect)="selectFinishedToDatePicker($event)"
                        [dateGregorianFormat]="'YYYY-MM-DD' "
                        [dateFormat]="'YYYY-MM-DD '">
                        <input [formControl]="finishedToControl" id="finishedTo" name="finishDate" class="font-bold w-full" pInputText type="text" autocomplete="off"/>
                      </ng-persian-datepicker>
                    </div>
                  </div>
                </div>

              </p-fieldset>
            </div>

          </div>
        </p-accordionTab>

        <p-accordionTab>
          <ng-template  pTemplate="header">
                <span  class="flex align-items-center gap-2 w-full">
                  مبنا و خروجی گزارش
                </span>
          </ng-template>
          <div class="grid">
            <div class="col-12">
              <div class="datePickerContainer relative">
                <label class="text-right font-bold text-md mb-2">مبنای اصلی</label>
                <div>
                  <p-dropdown
                    [styleClass]="'clear-icon'"
                    [showClear]="true"
                    [options]="dimension"
                    [(ngModel)]="oneObject.primaryGroup"
                    (onChange)="onPrimaryChange()"
                    [appendTo]="'body'"
                    class="mt-2"
                    [style]="{'width':'100%'}"
                    optionLabel="title"
                    optionValue="value"
                    placeholder="مبنای اصلی انتخاب کنید">
                  </p-dropdown>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="datePickerContainer relative">
                <label class="text-right font-bold text-md mb-2">مبنای فرعی</label>
                <div>
                  <p-dropdown
                    [styleClass]="'clear-icon'"
                    [showClear]="true"
                    [options]="secondaryOptions"
                    [(ngModel)]="oneObject.secondaryGroup"
                    [disabled]="oneObject.primaryGroup === null || oneObject.primaryGroup === undefined"
                    [appendTo]="'body'"
                    class="mt-2"
                    [style]="{'width':'100%'}"
                    optionLabel="title"
                    optionValue="value"
                    placeholder="مبنای فرعی انتخاب کنید">
                  </p-dropdown>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="datePickerContainer relative">
                <label class="text-right font-bold text-md mb-2">خروجی گزارش</label>
                <div>
                  <p-dropdown
                    [styleClass]="'clear-icon'"
                    [showClear]="true"
                    [options]="metric"
                    [(ngModel)]="oneObject.metric"
                    [appendTo]="'body'"
                    class="mt-2"
                    [style]="{'width':'100%'}"
                    optionLabel="title"
                    optionValue="value"
                    placeholder="خروجی گزارش انتخاب کنید">
                  </p-dropdown>
                </div>
              </div>
            </div>

          </div>
        </p-accordionTab>

      </p-accordion>

    </div>

    <!-- دکمه باز کردن منو -->
    <div class="hamburger" *ngIf="!menuOpen" (click)="toggleMenu()">
      &#9776;
    </div>

    <div class="chart-container" [class.menu-open]="menuOpen">
      <div class="p-card px-4 py-3 shadow-2">

        <div class="flex justify-content-center align-items-center">
          <div class="flex gap-4 px-2 py-3">
        <span pTooltip="نمایش ستونی"
              tooltipPosition="top" (click)="typeOfChart('bar');">
          <img src="./assets/images/bar-30.png" [class]="{'active': type == 'bar'}" class="span cursor-pointer " alt="">
        </span>
            <span pTooltip="نمایش خطی"
                  tooltipPosition="top" (click)="typeOfChart('line'); " >
          <img src="./assets/images/line-30.png" [class]="{'active': type == 'line'}" class="span cursor-pointer " alt="">
        </span>
            <span pTooltip="نمایش دایره ای"
                  tooltipPosition="top" (click)="typeOfChart('pie'); " *ngIf="oneObject.secondaryGroup == null || oneObject.secondaryGroup == undefined">
          <img src="./assets/images/pie-chart-30.png" [class]="{'active': type == 'pie'}" class="span cursor-pointer " alt="">
        </span>
          </div>

          <span class="mx-auto">
            گزارش کاریز ها
          </span>

        </div>

        <p-chart #chart class="chart" [type]="type" [data]="chartData" [options]="options"></p-chart>
      </div>
    </div>

  </div>

</div>


<!--<div class="grid">-->
<!--  <div class="col-12">-->

<!--    <div class="p-card px-4 py-3 shadow-2">-->
<!--      <div class="flex gap-4 px-2 py-3">-->
<!--        <span pTooltip="نمایش ستونی"-->
<!--              tooltipPosition="top" (click)="typeOfChart('bar');">-->
<!--          <img src="./assets/images/bar-30.png" [class]="{'active': type == 'bar'}" class="span cursor-pointer " alt="">-->
<!--        </span>-->
<!--        <span pTooltip="نمایش خطی"-->
<!--              tooltipPosition="top" (click)="typeOfChart('line'); " >-->
<!--          <img src="./assets/images/line-30.png" [class]="{'active': type == 'line'}" class="span cursor-pointer " alt="">-->
<!--        </span>-->
<!--        <span pTooltip="نمایش دایره ای"-->
<!--              tooltipPosition="top" (click)="typeOfChart('pie'); " *ngIf="oneObject.secondaryGroup == null || oneObject.secondaryGroup == undefined">-->
<!--          <img src="./assets/images/pie-chart-30.png" [class]="{'active': type == 'pie'}" class="span cursor-pointer " alt="">-->
<!--        </span>-->

<!--      </div>-->

<!--      <p-chart #chart *ngIf="showChart" class="chart" [type]="type" [data]="chartData" [options]="options"></p-chart>-->
<!--    </div>-->

<!--  </div>-->
<!--</div>-->

