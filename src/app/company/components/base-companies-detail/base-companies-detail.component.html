<div class="flex flex-column align-items-center">
  <div class="p-card p-4 shadow-2 mx-auto max-w-60rem" style="min-width:60rem">

    <p-tabView >

      <p-tabPanel>

        <ng-template pTemplate="header" >
          <i class="ml-2 pi pi-book"></i>
          <span>مشخصات</span>
        </ng-template>

        <div class="grid">

          <div [class]="isEditMode ? 'col-12 md:col-12' : 'col-12 md:col-6'" class="col-12 md:col-6">

            <p-fieldset [style]="{padding: '0px'}">
              <ng-template pTemplate="header">
                <p  class="text-base font-bold">مشخصات شرکت</p>
              </ng-template>

<!--              <p-inputSwitch formControlName="disable" class="hidden"></p-inputSwitch>-->
              <div class="flex flex-column gap-4">
                <div class="field-radiobutton">
                  <p-inputSwitch [(ngModel)]="manager.oneObject.disable"/>
                  <label>غیرفعال</label>
                </div>

                <div class="form-group">
                  <label class="text-900">نام</label>
                  <div class="field">
                    <input
                      [(ngModel)]="manager.oneObject.name"
                      [style]="{'width':'100%'}"
                      pInputText
                      type="text"
                      id="title"
                      name="title"
                      placeholder="نام شرکت وارد نمایید."
                      class="p-fieldset"/>
                  </div>
                </div>

                <div class="form-group">
                  <label class="text-900">نام دیتابیس</label>
                  <div class="field m-0">
                    <input
                      (keypress)="allowOnlyEnglish($event)"
                      [(ngModel)]="manager.oneObject.dbName"
                      [disabled]="isEditMode"
                      [style]="{'width':'100%'}"
                      pInputText
                      type="text"
                      id="dbName"
                      name="dbName"
                      placeholder="نام دیتابیس وارد نمایید."
                      [class]="isEditMode ? 'cursor-disabled' : ''"
                      class="p-fieldset "/>
                  </div>
                  <small class="p-error font-bold" *ngIf="isEnglishError">
                    فقط حروف انگلیسی مجاز می‌باشد
                  </small>
                </div>

                <div class="form-group ">
                  <label class="block mb-2 text-900">توضیحات</label>
                  <div class="field">
              <textarea
                [(ngModel)]="manager.oneObject.description"
                [style]="{'width':'100%'}"
                rows="5"
                id="description"
                name="description"
                pInputTextarea
                placeholder="توضیحات خودرا وارد نمایید."
                class="p-fieldset">
              </textarea>
                  </div>
                </div>

              </div>

            </p-fieldset>

          </div>

          <div class="col-12 md:col-6" *ngIf="!isEditMode">

            <p-fieldset [style]="{padding: '0px', height:'100%'}">
              <ng-template pTemplate="header">
                <p class="text-base font-bold">مشخصات کاربر ارشد</p>
              </ng-template>

              <div class="flex flex-column gap-4">

                <div class="form-group">
                  <label class="text-900">نام و نام خانوادگی</label>
                  <div class="field">
                    <input
                      [(ngModel)]="manager.oneObject.fullName"
                      [disabled]="isEditMode"
                      [style]="{'width':'100%'}"
                      pInputText
                      type="text"
                      id="fullName"
                      name="fullName"
                      placeholder="نام و نام خانوادگی وارد نمایید."
                      [class]="isEditMode ? 'cursor-disabled' : ''"
                      class="p-fieldset"/>
                  </div>
                </div>

                <div class="form-group ">
                  <label class="block mb-2 text-900">نام کاربری</label>
                  <div class="field">
                    <input
                      [(ngModel)]="manager.oneObject.userName"
                      [disabled]="isEditMode"
                      [style]="{'width':'100%'}"
                      pInputText
                      type="text"
                      id="userName"
                      name="userName"
                      placeholder="نام کاربری وارد نمایید."
                      [class]="isEditMode ? 'cursor-disabled' : ''"
                      class="p-fieldset"/>
                  </div>
                </div>

                <div class="form-group ">
                  <label class="block mb-2 text-900">رمز عبور</label>
                  <div class="field">
                    <p-password [(ngModel)]="manager.oneObject.password"
                                [toggleMask]="true"
                                [feedback]="false"
                                [style]="{'width':'100%'}"
                                [disabled]="isEditMode"
                                [class]="isEditMode ? 'cursor-disabled' : ''"
                                class="w-full block"
                                placeholder="رمز عبور وارد نمایید."/>
                  </div>
                </div>

                <div class="form-group ">
                  <label class="block mb-2 text-900">تکرار رمز عبور</label>
                  <div class="field">
                    <p-password [(ngModel)]="confirmPassword"
                                [toggleMask]="true"
                                [feedback]="false"
                                [style]="{'width':'100%'}"
                                [disabled]="isEditMode"
                                [class]="isEditMode ? 'cursor-disabled' : ''"
                                class="w-full block"
                                placeholder="تکرار رمز عبور وارد نمایید."/>
                  </div>
                </div>

              </div>

            </p-fieldset>

          </div>



        </div>
      </p-tabPanel>

      <p-tabPanel>
        <ng-template pTemplate="header" >
          <i class="ml-2 pi pi-book"></i>
          <span>مجوز دسترسی</span>
        </ng-template>

        <div class="grid">
          <div class="col-12 flex flex-column gap-2">
            <div class="flex gap-2" *ngFor="let item of permissionList">
              <p-inputSwitch class="flex" (onChange)="onSwitchChange(item, $event.checked)" [ngModel]="hasPermission(item)" [inputId]="'permission-' + item.id"/>
              <label class="cursor-pointer" [for]="'permission-'+item.id">{{item.title}}</label>
            </div>
          </div>
        </div>

      </p-tabPanel>

    </p-tabView>

    <div class="col-12 flex justify-content-end gap-3">
      <!--        <div class="mt-3 mr-3">-->
      <button type="button" pButton pRipple
              class="mr-4 p-button-danger w-6rem"
              label="انصراف"
              (click)="manager.cancel()">
      </button>
      <button type="button" pButton pRipple
              class="p-button-success w-6rem"
              label="ثبت"
              (click)="manager.save()">
      </button>
      <!--        </div>-->
    </div>


  </div>
</div>

